import * as $rjs_core from '../../../runtime/core.js';import * as M0 from "../../../runtime/kernel.rkt.js";import * as M1 from "../../../runtime/unsafe.rkt.js";var generic_sort845 = function(A846, less_than_p847, n848) {var n_by_2_849 = M1.unsafe_fxrshift(n848,1);var n_by_2_plus_850 = M1.unsafe_fx_(n848,n_by_2_849);var copying_mergesort851 = function(Alo852, Blo853, n854) {if (M1.unsafe_fx_eq_(n854,1)!==false) {var if_res410 = M1.unsafe_vector_set_bang_(A846,Blo853,M1.unsafe_vector_ref(A846,Alo852));} else {if (M1.unsafe_fx_eq_(n854,2)!==false) {var x855 = M1.unsafe_vector_ref(A846,Alo852);var y856 = M1.unsafe_vector_ref(A846,M1.unsafe_fx_plus_(Alo852,1));if (false!==false) {var if_res395 = less_than_p847(false(y856),false(x855));} else {var if_res395 = less_than_p847(y856,x855);}if (if_res395!==false) {M1.unsafe_vector_set_bang_(A846,Blo853,y856);var if_res396 = M1.unsafe_vector_set_bang_(A846,M1.unsafe_fx_plus_(Blo853,1),x855);} else {M1.unsafe_vector_set_bang_(A846,Blo853,x855);var if_res396 = M1.unsafe_vector_set_bang_(A846,M1.unsafe_fx_plus_(Blo853,1),y856);}var if_res409 = if_res396;} else {if (M1.unsafe_fx_lt_(n854,16)!==false) {M1.unsafe_vector_set_bang_(A846,Blo853,M1.unsafe_vector_ref(A846,Alo852));var iloop857 = function(i858) {if (M1.unsafe_fx_lt_(i858,n854)!==false) {var ref_i859 = M1.unsafe_vector_ref(A846,M1.unsafe_fx_plus_(Alo852,i858));var jloop860 = function(j861) {var ref_j_1862 = M1.unsafe_vector_ref(A846,M1.unsafe_fx_(j861,1));if (M1.unsafe_fx_lt_(Blo853,j861)!==false) {if (false!==false) {var if_res397 = less_than_p847(false(ref_i859),false(ref_j_1862));} else {var if_res397 = less_than_p847(ref_i859,ref_j_1862);}var if_res398 = if_res397;} else {var if_res398 = false;}if (if_res398!==false) {M1.unsafe_vector_set_bang_(A846,j861,ref_j_1862);var if_res399 = jloop860(M1.unsafe_fx_(j861,1));} else {M1.unsafe_vector_set_bang_(A846,j861,ref_i859);var if_res399 = iloop857(M1.unsafe_fx_plus_(i858,1));}return if_res399;};var if_res400 = jloop860(M1.unsafe_fx_plus_(Blo853,i858));} else {var if_res400 = M0.rvoid();}return if_res400;};var if_res408 = iloop857(1);} else {var n_by_2_863 = M1.unsafe_fxrshift(n854,1);var n_by_2_plus_864 = M1.unsafe_fx_(n854,n_by_2_863);var Amid1865 = M1.unsafe_fx_plus_(Alo852,n_by_2_863);var Amid2866 = M1.unsafe_fx_plus_(Alo852,n_by_2_plus_864);var Bmid1867 = M1.unsafe_fx_plus_(Blo853,n_by_2_863);copying_mergesort851(Amid1865,Bmid1867,n_by_2_plus_864);copying_mergesort851(Alo852,Amid2866,n_by_2_863);var b2868 = M1.unsafe_fx_plus_(Blo853,n854);var loop869 = function(a1870, b1871, c1872) {var x873 = M1.unsafe_vector_ref(A846,a1870);var y874 = M1.unsafe_vector_ref(A846,b1871);if (true!==false) {if (false!==false) {var if_res401 = less_than_p847(false(y874),false(x873));} else {var if_res401 = less_than_p847(y874,x873);}var if_res403 = M0.not(if_res401);} else {if (false!==false) {var if_res402 = less_than_p847(false(x873),false(y874));} else {var if_res402 = less_than_p847(x873,y874);}var if_res403 = if_res402;}if (if_res403!==false) {M1.unsafe_vector_set_bang_(A846,c1872,x873);var a1875 = M1.unsafe_fx_plus_(a1870,1);var c1876 = M1.unsafe_fx_plus_(c1872,1);if (M1.unsafe_fx_lt_(c1876,b1871)!==false) {var if_res404 = loop869(a1875,b1871,c1876);} else {var if_res404 = M0.rvoid();}var if_res407 = if_res404;} else {M1.unsafe_vector_set_bang_(A846,c1872,y874);var b1877 = M1.unsafe_fx_plus_(b1871,1);var c1878 = M1.unsafe_fx_plus_(c1872,1);if (M1.unsafe_fx_lt__eq_(b2868,b1877)!==false) {var loop879 = function(a1880, c1881) {if (M1.unsafe_fx_lt_(c1881,b1877)!==false) {M1.unsafe_vector_set_bang_(A846,c1881,M1.unsafe_vector_ref(A846,a1880));var if_res405 = loop879(M1.unsafe_fx_plus_(a1880,1),M1.unsafe_fx_plus_(c1881,1));} else {var if_res405 = M0.rvoid();}return if_res405;};var if_res406 = loop879(a1870,c1878);} else {var if_res406 = loop869(a1870,b1877,c1878);}var if_res407 = if_res406;}return if_res407;};var if_res408 = loop869(Amid2866,Bmid1867,Blo853);}var if_res409 = if_res408;}var if_res410 = if_res409;}return if_res410;};var Alo882 = 0;var Amid1883 = n_by_2_849;var Amid2884 = n_by_2_plus_850;var Ahi885 = n848;var B1lo886 = n848;copying_mergesort851(Amid1883,B1lo886,n_by_2_plus_850);if (M0.zero_p(n_by_2_849)!==false) {var if_res411 = M0.rvoid();} else {var if_res411 = copying_mergesort851(Alo882,Amid2884,n_by_2_849);}if_res411;var b2887 = Ahi885;var loop888 = function(a1889, b1890, c1891) {var x892 = M1.unsafe_vector_ref(A846,a1889);var y893 = M1.unsafe_vector_ref(A846,b1890);if (false!==false) {if (false!==false) {var if_res412 = less_than_p847(false(y893),false(x892));} else {var if_res412 = less_than_p847(y893,x892);}var if_res414 = M0.not(if_res412);} else {if (false!==false) {var if_res413 = less_than_p847(false(x892),false(y893));} else {var if_res413 = less_than_p847(x892,y893);}var if_res414 = if_res413;}if (if_res414!==false) {M1.unsafe_vector_set_bang_(A846,c1891,x892);var a1894 = M1.unsafe_fx_plus_(a1889,1);var c1895 = M1.unsafe_fx_plus_(c1891,1);if (M1.unsafe_fx_lt_(c1895,b1890)!==false) {var if_res415 = loop888(a1894,b1890,c1895);} else {var if_res415 = M0.rvoid();}var if_res418 = if_res415;} else {M1.unsafe_vector_set_bang_(A846,c1891,y893);var b1896 = M1.unsafe_fx_plus_(b1890,1);var c1897 = M1.unsafe_fx_plus_(c1891,1);if (M1.unsafe_fx_lt__eq_(b2887,b1896)!==false) {var loop898 = function(a1899, c1900) {if (M1.unsafe_fx_lt_(c1900,b1896)!==false) {M1.unsafe_vector_set_bang_(A846,c1900,M1.unsafe_vector_ref(A846,a1899));var if_res416 = loop898(M1.unsafe_fx_plus_(a1899,1),M1.unsafe_fx_plus_(c1900,1));} else {var if_res416 = M0.rvoid();}return if_res416;};var if_res417 = loop898(a1889,c1897);} else {var if_res417 = loop888(a1889,b1896,c1897);}var if_res418 = if_res417;}return if_res418;};return loop888(B1lo886,Amid2884,Alo882);};var generic_sort_by_key901 = function(A902, less_than_p903, n904, key905) {var n_by_2_906 = M1.unsafe_fxrshift(n904,1);var n_by_2_plus_907 = M1.unsafe_fx_(n904,n_by_2_906);var copying_mergesort908 = function(Alo909, Blo910, n911) {if (M1.unsafe_fx_eq_(n911,1)!==false) {var if_res434 = M1.unsafe_vector_set_bang_(A902,Blo910,M1.unsafe_vector_ref(A902,Alo909));} else {if (M1.unsafe_fx_eq_(n911,2)!==false) {var x912 = M1.unsafe_vector_ref(A902,Alo909);var y913 = M1.unsafe_vector_ref(A902,M1.unsafe_fx_plus_(Alo909,1));if (key905!==false) {var if_res419 = less_than_p903(key905(y913),key905(x912));} else {var if_res419 = less_than_p903(y913,x912);}if (if_res419!==false) {M1.unsafe_vector_set_bang_(A902,Blo910,y913);var if_res420 = M1.unsafe_vector_set_bang_(A902,M1.unsafe_fx_plus_(Blo910,1),x912);} else {M1.unsafe_vector_set_bang_(A902,Blo910,x912);var if_res420 = M1.unsafe_vector_set_bang_(A902,M1.unsafe_fx_plus_(Blo910,1),y913);}var if_res433 = if_res420;} else {if (M1.unsafe_fx_lt_(n911,16)!==false) {M1.unsafe_vector_set_bang_(A902,Blo910,M1.unsafe_vector_ref(A902,Alo909));var iloop914 = function(i915) {if (M1.unsafe_fx_lt_(i915,n911)!==false) {var ref_i916 = M1.unsafe_vector_ref(A902,M1.unsafe_fx_plus_(Alo909,i915));var jloop917 = function(j918) {var ref_j_1919 = M1.unsafe_vector_ref(A902,M1.unsafe_fx_(j918,1));if (M1.unsafe_fx_lt_(Blo910,j918)!==false) {if (key905!==false) {var if_res421 = less_than_p903(key905(ref_i916),key905(ref_j_1919));} else {var if_res421 = less_than_p903(ref_i916,ref_j_1919);}var if_res422 = if_res421;} else {var if_res422 = false;}if (if_res422!==false) {M1.unsafe_vector_set_bang_(A902,j918,ref_j_1919);var if_res423 = jloop917(M1.unsafe_fx_(j918,1));} else {M1.unsafe_vector_set_bang_(A902,j918,ref_i916);var if_res423 = iloop914(M1.unsafe_fx_plus_(i915,1));}return if_res423;};var if_res424 = jloop917(M1.unsafe_fx_plus_(Blo910,i915));} else {var if_res424 = M0.rvoid();}return if_res424;};var if_res432 = iloop914(1);} else {var n_by_2_920 = M1.unsafe_fxrshift(n911,1);var n_by_2_plus_921 = M1.unsafe_fx_(n911,n_by_2_920);var Amid1922 = M1.unsafe_fx_plus_(Alo909,n_by_2_920);var Amid2923 = M1.unsafe_fx_plus_(Alo909,n_by_2_plus_921);var Bmid1924 = M1.unsafe_fx_plus_(Blo910,n_by_2_920);copying_mergesort908(Amid1922,Bmid1924,n_by_2_plus_921);copying_mergesort908(Alo909,Amid2923,n_by_2_920);var b2925 = M1.unsafe_fx_plus_(Blo910,n911);var loop926 = function(a1927, b1928, c1929) {var x930 = M1.unsafe_vector_ref(A902,a1927);var y931 = M1.unsafe_vector_ref(A902,b1928);if (true!==false) {if (key905!==false) {var if_res425 = less_than_p903(key905(y931),key905(x930));} else {var if_res425 = less_than_p903(y931,x930);}var if_res427 = M0.not(if_res425);} else {if (key905!==false) {var if_res426 = less_than_p903(key905(x930),key905(y931));} else {var if_res426 = less_than_p903(x930,y931);}var if_res427 = if_res426;}if (if_res427!==false) {M1.unsafe_vector_set_bang_(A902,c1929,x930);var a1932 = M1.unsafe_fx_plus_(a1927,1);var c1933 = M1.unsafe_fx_plus_(c1929,1);if (M1.unsafe_fx_lt_(c1933,b1928)!==false) {var if_res428 = loop926(a1932,b1928,c1933);} else {var if_res428 = M0.rvoid();}var if_res431 = if_res428;} else {M1.unsafe_vector_set_bang_(A902,c1929,y931);var b1934 = M1.unsafe_fx_plus_(b1928,1);var c1935 = M1.unsafe_fx_plus_(c1929,1);if (M1.unsafe_fx_lt__eq_(b2925,b1934)!==false) {var loop936 = function(a1937, c1938) {if (M1.unsafe_fx_lt_(c1938,b1934)!==false) {M1.unsafe_vector_set_bang_(A902,c1938,M1.unsafe_vector_ref(A902,a1937));var if_res429 = loop936(M1.unsafe_fx_plus_(a1937,1),M1.unsafe_fx_plus_(c1938,1));} else {var if_res429 = M0.rvoid();}return if_res429;};var if_res430 = loop936(a1927,c1935);} else {var if_res430 = loop926(a1927,b1934,c1935);}var if_res431 = if_res430;}return if_res431;};var if_res432 = loop926(Amid2923,Bmid1924,Blo910);}var if_res433 = if_res432;}var if_res434 = if_res433;}return if_res434;};var Alo939 = 0;var Amid1940 = n_by_2_906;var Amid2941 = n_by_2_plus_907;var Ahi942 = n904;var B1lo943 = n904;copying_mergesort908(Amid1940,B1lo943,n_by_2_plus_907);if (M0.zero_p(n_by_2_906)!==false) {var if_res435 = M0.rvoid();} else {var if_res435 = copying_mergesort908(Alo939,Amid2941,n_by_2_906);}if_res435;var b2944 = Ahi942;var loop945 = function(a1946, b1947, c1948) {var x949 = M1.unsafe_vector_ref(A902,a1946);var y950 = M1.unsafe_vector_ref(A902,b1947);if (false!==false) {if (key905!==false) {var if_res436 = less_than_p903(key905(y950),key905(x949));} else {var if_res436 = less_than_p903(y950,x949);}var if_res438 = M0.not(if_res436);} else {if (key905!==false) {var if_res437 = less_than_p903(key905(x949),key905(y950));} else {var if_res437 = less_than_p903(x949,y950);}var if_res438 = if_res437;}if (if_res438!==false) {M1.unsafe_vector_set_bang_(A902,c1948,x949);var a1951 = M1.unsafe_fx_plus_(a1946,1);var c1952 = M1.unsafe_fx_plus_(c1948,1);if (M1.unsafe_fx_lt_(c1952,b1947)!==false) {var if_res439 = loop945(a1951,b1947,c1952);} else {var if_res439 = M0.rvoid();}var if_res442 = if_res439;} else {M1.unsafe_vector_set_bang_(A902,c1948,y950);var b1953 = M1.unsafe_fx_plus_(b1947,1);var c1954 = M1.unsafe_fx_plus_(c1948,1);if (M1.unsafe_fx_lt__eq_(b2944,b1953)!==false) {var loop955 = function(a1956, c1957) {if (M1.unsafe_fx_lt_(c1957,b1953)!==false) {M1.unsafe_vector_set_bang_(A902,c1957,M1.unsafe_vector_ref(A902,a1956));var if_res440 = loop955(M1.unsafe_fx_plus_(a1956,1),M1.unsafe_fx_plus_(c1957,1));} else {var if_res440 = M0.rvoid();}return if_res440;};var if_res441 = loop955(a1946,c1954);} else {var if_res441 = loop945(a1946,b1953,c1954);}var if_res442 = if_res441;}return if_res442;};return loop945(B1lo943,Amid2941,Alo939);};var cl550 = function(lst958, less_than_p959) {var n960 = M0.length(lst958);if (M1.unsafe_fx_eq_(n960,0)!==false) {var if_res574 = lst958;} else {if (false!==false) {var vec961 = M0.make_vector(n960+M0.ceiling(n960/2));var loop962 = function(i963, lst964) {if (M0.pair_p(lst964)!==false) {var x965 = M0.car(lst964);M1.unsafe_vector_set_bang_(vec961,i963,M0.cons(false(x965),x965));var if_res554 = loop962(M1.unsafe_fx_plus_(i963,1),M0.cdr(lst964));} else {var if_res554 = M0.rvoid();}return if_res554;};loop962(0,lst958);generic_sort_by_key901(vec961,less_than_p959,n960,M1.unsafe_car);var loop966 = function(i967, r968) {var i969 = M1.unsafe_fx_(i967,1);if (M1.unsafe_fx_lt_(i969,0)!==false) {var if_res555 = r968;} else {var if_res555 = loop966(i969,M0.cons(M1.unsafe_cdr(M1.unsafe_vector_ref(vec961,i969)),r968));}return if_res555;};var if_res573 = loop966(n960,$rjs_core.Pair.makeList());} else {var loop970 = function(last971, next972) {var or_part973 = M0.null_p(next972);if (or_part973!==false) {var if_res558 = or_part973;} else {if (false!==false) {var if_res556 = less_than_p959(false(M1.unsafe_car(next972)),false(last971));} else {var if_res556 = less_than_p959(M1.unsafe_car(next972),last971);}if (M0.not(if_res556)!==false) {var if_res557 = loop970(M1.unsafe_car(next972),M1.unsafe_cdr(next972));} else {var if_res557 = false;}var if_res558 = if_res557;}return if_res558;};if (loop970(M0.car(lst958),M0.cdr(lst958))!==false) {var if_res572 = lst958;} else {if (M1.unsafe_fx_lt__eq_(n960,3)!==false) {if (M1.unsafe_fx_eq_(n960,1)!==false) {var if_res568 = lst958;} else {if (M1.unsafe_fx_eq_(n960,2)!==false) {var if_res567 = M0.list(M0.cadr(lst958),M0.car(lst958));} else {var a974 = M0.car(lst958);var b975 = M0.cadr(lst958);var c976 = M0.caddr(lst958);if (false!==false) {var if_res559 = less_than_p959(false(b975),false(a974));} else {var if_res559 = less_than_p959(b975,a974);}if (if_res559!==false) {if (false!==false) {var if_res560 = less_than_p959(false(c976),false(b975));} else {var if_res560 = less_than_p959(c976,b975);}if (if_res560!==false) {var if_res563 = M0.list(c976,b975,a974);} else {if (false!==false) {var if_res561 = less_than_p959(false(c976),false(a974));} else {var if_res561 = less_than_p959(c976,a974);}if (if_res561!==false) {var if_res562 = M0.list(b975,c976,a974);} else {var if_res562 = M0.list(b975,a974,c976);}var if_res563 = if_res562;}var if_res566 = if_res563;} else {if (false!==false) {var if_res564 = less_than_p959(false(c976),false(a974));} else {var if_res564 = less_than_p959(c976,a974);}if (if_res564!==false) {var if_res565 = M0.list(c976,a974,b975);} else {var if_res565 = M0.list(a974,c976,b975);}var if_res566 = if_res565;}var if_res567 = if_res566;}var if_res568 = if_res567;}var if_res571 = if_res568;} else {var vec977 = M0.make_vector(n960+M0.ceiling(n960/2));var loop978 = function(i979, lst980) {if (M0.pair_p(lst980)!==false) {M0.vector_set_bang_(vec977,i979,M0.car(lst980));var if_res569 = loop978(M0.add1(i979),M0.cdr(lst980));} else {var if_res569 = M0.rvoid();}return if_res569;};loop978(0,lst958);generic_sort845(vec977,less_than_p959,n960);var loop981 = function(i982, r983) {var i984 = M0.sub1(i982);if (M0.__lt_(i984,0)!==false) {var if_res570 = r983;} else {var if_res570 = loop981(i984,M0.cons(M0.vector_ref(vec977,i984),r983));}return if_res570;};var if_res571 = loop981(n960,$rjs_core.Pair.makeList());}var if_res572 = if_res571;}var if_res573 = if_res572;}var if_res574 = if_res573;}return if_res574;};var cl551 = function(lst985, less_than_p986, getkey987) {if (getkey987!==false) {var if_res575 = M0.not(M0.eq_p(M0.values,getkey987));} else {var if_res575 = false;}if (if_res575!==false) {var if_res576 = sort(lst985,less_than_p986,getkey987,false);} else {var if_res576 = sort(lst985,less_than_p986);}return if_res576;};var cl552 = function(lst988, less_than_p989, getkey990, cache_keys_p991) {if (getkey990!==false) {var if_res577 = M0.not(M0.eq_p(M0.values,getkey990));} else {var if_res577 = false;}if (if_res577!==false) {var n992 = M0.length(lst988);if (M1.unsafe_fx_eq_(n992,0)!==false) {var if_res598 = lst988;} else {if (cache_keys_p991!==false) {var vec993 = M0.make_vector(n992+M0.ceiling(n992/2));var loop994 = function(i995, lst996) {if (M0.pair_p(lst996)!==false) {var x997 = M0.car(lst996);M1.unsafe_vector_set_bang_(vec993,i995,M0.cons(getkey990(x997),x997));var if_res578 = loop994(M1.unsafe_fx_plus_(i995,1),M0.cdr(lst996));} else {var if_res578 = M0.rvoid();}return if_res578;};loop994(0,lst988);generic_sort_by_key901(vec993,less_than_p989,n992,M1.unsafe_car);var loop998 = function(i999, r1000) {var i1001 = M1.unsafe_fx_(i999,1);if (M1.unsafe_fx_lt_(i1001,0)!==false) {var if_res579 = r1000;} else {var if_res579 = loop998(i1001,M0.cons(M1.unsafe_cdr(M1.unsafe_vector_ref(vec993,i1001)),r1000));}return if_res579;};var if_res597 = loop998(n992,$rjs_core.Pair.makeList());} else {var loop1002 = function(last1003, next1004) {var or_part1005 = M0.null_p(next1004);if (or_part1005!==false) {var if_res582 = or_part1005;} else {if (getkey990!==false) {var if_res580 = less_than_p989(getkey990(M1.unsafe_car(next1004)),getkey990(last1003));} else {var if_res580 = less_than_p989(M1.unsafe_car(next1004),last1003);}if (M0.not(if_res580)!==false) {var if_res581 = loop1002(M1.unsafe_car(next1004),M1.unsafe_cdr(next1004));} else {var if_res581 = false;}var if_res582 = if_res581;}return if_res582;};if (loop1002(M0.car(lst988),M0.cdr(lst988))!==false) {var if_res596 = lst988;} else {if (M1.unsafe_fx_lt__eq_(n992,3)!==false) {if (M1.unsafe_fx_eq_(n992,1)!==false) {var if_res592 = lst988;} else {if (M1.unsafe_fx_eq_(n992,2)!==false) {var if_res591 = M0.list(M0.cadr(lst988),M0.car(lst988));} else {var a1006 = M0.car(lst988);var b1007 = M0.cadr(lst988);var c1008 = M0.caddr(lst988);if (getkey990!==false) {var if_res583 = less_than_p989(getkey990(b1007),getkey990(a1006));} else {var if_res583 = less_than_p989(b1007,a1006);}if (if_res583!==false) {if (getkey990!==false) {var if_res584 = less_than_p989(getkey990(c1008),getkey990(b1007));} else {var if_res584 = less_than_p989(c1008,b1007);}if (if_res584!==false) {var if_res587 = M0.list(c1008,b1007,a1006);} else {if (getkey990!==false) {var if_res585 = less_than_p989(getkey990(c1008),getkey990(a1006));} else {var if_res585 = less_than_p989(c1008,a1006);}if (if_res585!==false) {var if_res586 = M0.list(b1007,c1008,a1006);} else {var if_res586 = M0.list(b1007,a1006,c1008);}var if_res587 = if_res586;}var if_res590 = if_res587;} else {if (getkey990!==false) {var if_res588 = less_than_p989(getkey990(c1008),getkey990(a1006));} else {var if_res588 = less_than_p989(c1008,a1006);}if (if_res588!==false) {var if_res589 = M0.list(c1008,a1006,b1007);} else {var if_res589 = M0.list(a1006,c1008,b1007);}var if_res590 = if_res589;}var if_res591 = if_res590;}var if_res592 = if_res591;}var if_res595 = if_res592;} else {var vec1009 = M0.make_vector(n992+M0.ceiling(n992/2));var loop1010 = function(i1011, lst1012) {if (M0.pair_p(lst1012)!==false) {M0.vector_set_bang_(vec1009,i1011,M0.car(lst1012));var if_res593 = loop1010(M0.add1(i1011),M0.cdr(lst1012));} else {var if_res593 = M0.rvoid();}return if_res593;};loop1010(0,lst988);generic_sort_by_key901(vec1009,less_than_p989,n992,getkey990);var loop1013 = function(i1014, r1015) {var i1016 = M0.sub1(i1014);if (M0.__lt_(i1016,0)!==false) {var if_res594 = r1015;} else {var if_res594 = loop1013(i1016,M0.cons(M0.vector_ref(vec1009,i1016),r1015));}return if_res594;};var if_res595 = loop1013(n992,$rjs_core.Pair.makeList());}var if_res596 = if_res595;}var if_res597 = if_res596;}var if_res598 = if_res597;}var if_res599 = if_res598;} else {var if_res599 = sort(lst988,less_than_p989);}return if_res599;};var temp600 = $rjs_core.attachProcedureArity(function() {var fixed_lam553 = {'2':cl550,'3':cl551,'4':cl552}[arguments.length];if (fixed_lam553!==undefined) {return fixed_lam553.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[2,3,4]);var cl496 = function(vec1017, less_than_p1018, start1019, end1020) {var n1021 = end1020-start1019;if (true!==false) {var if_res499 = M0.make_vector(n1021);} else {var if_res499 = vec1017;}var dst_vec1022 = if_res499;if (true!==false) {var if_res500 = 0;} else {var if_res500 = start1019;}var dst_start1023 = if_res500;if (M1.unsafe_fx_eq_(n1021,0)!==false) {var if_res521 = M0.rvoid();} else {if (false!==false) {var work_vec1024 = M0.make_vector(n1021+M0.ceiling(n1021/2),true);var loop1025 = function(i1026) {if (M1.unsafe_fx_lt_(i1026,n1021)!==false) {var x1027 = M1.unsafe_vector_ref(vec1017,M1.unsafe_fx_plus_(i1026,start1019));M1.unsafe_vector_set_bang_(work_vec1024,i1026,M0.cons(false(x1027),x1027));var if_res501 = loop1025(M1.unsafe_fx_plus_(i1026,1));} else {var if_res501 = M0.rvoid();}return if_res501;};loop1025(0);generic_sort_by_key901(work_vec1024,less_than_p1018,n1021,M1.unsafe_car);var loop1028 = function(i1029) {if (M1.unsafe_fx_lt_(i1029,n1021)!==false) {M1.unsafe_vector_set_bang_(dst_vec1022,M1.unsafe_fx_plus_(i1029,dst_start1023),M1.unsafe_cdr(M1.unsafe_vector_ref(work_vec1024,i1029)));var if_res502 = loop1028(M1.unsafe_fx_plus_(i1029,1));} else {var if_res502 = M0.rvoid();}return if_res502;};var if_res520 = loop1028(0);} else {var loop1030 = function(prev_val1031, next_index1032) {var or_part1033 = M1.unsafe_fx_eq_(next_index1032,end1020);if (or_part1033!==false) {var if_res505 = or_part1033;} else {var next_val1034 = M1.unsafe_vector_ref(vec1017,next_index1032);if (false!==false) {var if_res503 = less_than_p1018(false(next_val1034),false(prev_val1031));} else {var if_res503 = less_than_p1018(next_val1034,prev_val1031);}if (M0.not(if_res503)!==false) {var if_res504 = loop1030(next_val1034,M1.unsafe_fx_plus_(next_index1032,1));} else {var if_res504 = false;}var if_res505 = if_res504;}return if_res505;};if (loop1030(M1.unsafe_vector_ref(vec1017,start1019),M1.unsafe_fx_plus_(start1019,1))!==false) {if (true!==false) {var if_res506 = M0.vector_copy_bang_(dst_vec1022,dst_start1023,vec1017,start1019,end1020);} else {var if_res506 = M0.rvoid();}var if_res519 = if_res506;} else {if (M1.unsafe_fx_lt__eq_(n1021,3)!==false) {if (true!==false) {var if_res507 = M0.vector_copy_bang_(dst_vec1022,dst_start1023,vec1017,start1019,end1020);} else {var if_res507 = M0.rvoid();}if_res507;if (M1.unsafe_fx_eq_(n1021,1)!==false) {var if_res517 = M0.rvoid();} else {if (M1.unsafe_fx_eq_(n1021,2)!==false) {var tmp1035 = M1.unsafe_vector_ref(dst_vec1022,M1.unsafe_fx_plus_(dst_start1023,0));M1.unsafe_vector_set_bang_(dst_vec1022,M1.unsafe_fx_plus_(dst_start1023,0),M1.unsafe_vector_ref(dst_vec1022,M1.unsafe_fx_plus_(dst_start1023,1)));var if_res516 = M1.unsafe_vector_set_bang_(dst_vec1022,M1.unsafe_fx_plus_(dst_start1023,1),tmp1035);} else {var a1036 = M1.unsafe_vector_ref(dst_vec1022,M1.unsafe_fx_plus_(dst_start1023,0));var b1037 = M1.unsafe_vector_ref(dst_vec1022,M1.unsafe_fx_plus_(dst_start1023,1));var c1038 = M1.unsafe_vector_ref(dst_vec1022,M1.unsafe_fx_plus_(dst_start1023,2));if (false!==false) {var if_res508 = less_than_p1018(false(b1037),false(a1036));} else {var if_res508 = less_than_p1018(b1037,a1036);}if (if_res508!==false) {if (false!==false) {var if_res509 = less_than_p1018(false(c1038),false(b1037));} else {var if_res509 = less_than_p1018(c1038,b1037);}if (if_res509!==false) {M1.unsafe_vector_set_bang_(dst_vec1022,M1.unsafe_fx_plus_(dst_start1023,0),c1038);var if_res512 = M1.unsafe_vector_set_bang_(dst_vec1022,M1.unsafe_fx_plus_(dst_start1023,2),a1036);} else {if (false!==false) {var if_res510 = less_than_p1018(false(c1038),false(a1036));} else {var if_res510 = less_than_p1018(c1038,a1036);}if (if_res510!==false) {M1.unsafe_vector_set_bang_(dst_vec1022,M1.unsafe_fx_plus_(dst_start1023,0),b1037);M1.unsafe_vector_set_bang_(dst_vec1022,M1.unsafe_fx_plus_(dst_start1023,1),c1038);var if_res511 = M1.unsafe_vector_set_bang_(dst_vec1022,M1.unsafe_fx_plus_(dst_start1023,2),a1036);} else {M1.unsafe_vector_set_bang_(dst_vec1022,M1.unsafe_fx_plus_(dst_start1023,0),b1037);var if_res511 = M1.unsafe_vector_set_bang_(dst_vec1022,M1.unsafe_fx_plus_(dst_start1023,1),a1036);}var if_res512 = if_res511;}var if_res515 = if_res512;} else {if (false!==false) {var if_res513 = less_than_p1018(false(c1038),false(a1036));} else {var if_res513 = less_than_p1018(c1038,a1036);}if (if_res513!==false) {M1.unsafe_vector_set_bang_(dst_vec1022,M1.unsafe_fx_plus_(dst_start1023,0),c1038);M1.unsafe_vector_set_bang_(dst_vec1022,M1.unsafe_fx_plus_(dst_start1023,1),a1036);var if_res514 = M1.unsafe_vector_set_bang_(dst_vec1022,M1.unsafe_fx_plus_(dst_start1023,2),b1037);} else {M1.unsafe_vector_set_bang_(dst_vec1022,M1.unsafe_fx_plus_(dst_start1023,1),c1038);var if_res514 = M1.unsafe_vector_set_bang_(dst_vec1022,M1.unsafe_fx_plus_(dst_start1023,2),b1037);}var if_res515 = if_res514;}var if_res516 = if_res515;}var if_res517 = if_res516;}var if_res518 = if_res517;} else {var work_vec1039 = M0.make_vector(n1021+M0.ceiling(n1021/2),false);M0.vector_copy_bang_(work_vec1039,0,vec1017,start1019,end1020);generic_sort845(work_vec1039,less_than_p1018,n1021);var if_res518 = M0.vector_copy_bang_(dst_vec1022,dst_start1023,work_vec1039,0,n1021);}var if_res519 = if_res518;}var if_res520 = if_res519;}var if_res521 = if_res520;}if_res521;if (true!==false) {var if_res522 = dst_vec1022;} else {var if_res522 = M0.rvoid();}return if_res522;};var cl497 = function(vec1040, less_than_p1041, start1042, end1043, getkey1044, cache_keys_p1045) {if (getkey1044!==false) {var if_res523 = M0.not(M0.eq_p(M0.values,getkey1044));} else {var if_res523 = false;}if (if_res523!==false) {var n1046 = end1043-start1042;if (true!==false) {var if_res524 = M0.make_vector(n1046);} else {var if_res524 = vec1040;}var dst_vec1047 = if_res524;if (true!==false) {var if_res525 = 0;} else {var if_res525 = start1042;}var dst_start1048 = if_res525;if (M1.unsafe_fx_eq_(n1046,0)!==false) {var if_res546 = M0.rvoid();} else {if (cache_keys_p1045!==false) {var work_vec1049 = M0.make_vector(n1046+M0.ceiling(n1046/2),true);var loop1050 = function(i1051) {if (M1.unsafe_fx_lt_(i1051,n1046)!==false) {var x1052 = M1.unsafe_vector_ref(vec1040,M1.unsafe_fx_plus_(i1051,start1042));M1.unsafe_vector_set_bang_(work_vec1049,i1051,M0.cons(getkey1044(x1052),x1052));var if_res526 = loop1050(M1.unsafe_fx_plus_(i1051,1));} else {var if_res526 = M0.rvoid();}return if_res526;};loop1050(0);generic_sort_by_key901(work_vec1049,less_than_p1041,n1046,M1.unsafe_car);var loop1053 = function(i1054) {if (M1.unsafe_fx_lt_(i1054,n1046)!==false) {M1.unsafe_vector_set_bang_(dst_vec1047,M1.unsafe_fx_plus_(i1054,dst_start1048),M1.unsafe_cdr(M1.unsafe_vector_ref(work_vec1049,i1054)));var if_res527 = loop1053(M1.unsafe_fx_plus_(i1054,1));} else {var if_res527 = M0.rvoid();}return if_res527;};var if_res545 = loop1053(0);} else {var loop1055 = function(prev_val1056, next_index1057) {var or_part1058 = M1.unsafe_fx_eq_(next_index1057,end1043);if (or_part1058!==false) {var if_res530 = or_part1058;} else {var next_val1059 = M1.unsafe_vector_ref(vec1040,next_index1057);if (getkey1044!==false) {var if_res528 = less_than_p1041(getkey1044(next_val1059),getkey1044(prev_val1056));} else {var if_res528 = less_than_p1041(next_val1059,prev_val1056);}if (M0.not(if_res528)!==false) {var if_res529 = loop1055(next_val1059,M1.unsafe_fx_plus_(next_index1057,1));} else {var if_res529 = false;}var if_res530 = if_res529;}return if_res530;};if (loop1055(M1.unsafe_vector_ref(vec1040,start1042),M1.unsafe_fx_plus_(start1042,1))!==false) {if (true!==false) {var if_res531 = M0.vector_copy_bang_(dst_vec1047,dst_start1048,vec1040,start1042,end1043);} else {var if_res531 = M0.rvoid();}var if_res544 = if_res531;} else {if (M1.unsafe_fx_lt__eq_(n1046,3)!==false) {if (true!==false) {var if_res532 = M0.vector_copy_bang_(dst_vec1047,dst_start1048,vec1040,start1042,end1043);} else {var if_res532 = M0.rvoid();}if_res532;if (M1.unsafe_fx_eq_(n1046,1)!==false) {var if_res542 = M0.rvoid();} else {if (M1.unsafe_fx_eq_(n1046,2)!==false) {var tmp1060 = M1.unsafe_vector_ref(dst_vec1047,M1.unsafe_fx_plus_(dst_start1048,0));M1.unsafe_vector_set_bang_(dst_vec1047,M1.unsafe_fx_plus_(dst_start1048,0),M1.unsafe_vector_ref(dst_vec1047,M1.unsafe_fx_plus_(dst_start1048,1)));var if_res541 = M1.unsafe_vector_set_bang_(dst_vec1047,M1.unsafe_fx_plus_(dst_start1048,1),tmp1060);} else {var a1061 = M1.unsafe_vector_ref(dst_vec1047,M1.unsafe_fx_plus_(dst_start1048,0));var b1062 = M1.unsafe_vector_ref(dst_vec1047,M1.unsafe_fx_plus_(dst_start1048,1));var c1063 = M1.unsafe_vector_ref(dst_vec1047,M1.unsafe_fx_plus_(dst_start1048,2));if (getkey1044!==false) {var if_res533 = less_than_p1041(getkey1044(b1062),getkey1044(a1061));} else {var if_res533 = less_than_p1041(b1062,a1061);}if (if_res533!==false) {if (getkey1044!==false) {var if_res534 = less_than_p1041(getkey1044(c1063),getkey1044(b1062));} else {var if_res534 = less_than_p1041(c1063,b1062);}if (if_res534!==false) {M1.unsafe_vector_set_bang_(dst_vec1047,M1.unsafe_fx_plus_(dst_start1048,0),c1063);var if_res537 = M1.unsafe_vector_set_bang_(dst_vec1047,M1.unsafe_fx_plus_(dst_start1048,2),a1061);} else {if (getkey1044!==false) {var if_res535 = less_than_p1041(getkey1044(c1063),getkey1044(a1061));} else {var if_res535 = less_than_p1041(c1063,a1061);}if (if_res535!==false) {M1.unsafe_vector_set_bang_(dst_vec1047,M1.unsafe_fx_plus_(dst_start1048,0),b1062);M1.unsafe_vector_set_bang_(dst_vec1047,M1.unsafe_fx_plus_(dst_start1048,1),c1063);var if_res536 = M1.unsafe_vector_set_bang_(dst_vec1047,M1.unsafe_fx_plus_(dst_start1048,2),a1061);} else {M1.unsafe_vector_set_bang_(dst_vec1047,M1.unsafe_fx_plus_(dst_start1048,0),b1062);var if_res536 = M1.unsafe_vector_set_bang_(dst_vec1047,M1.unsafe_fx_plus_(dst_start1048,1),a1061);}var if_res537 = if_res536;}var if_res540 = if_res537;} else {if (getkey1044!==false) {var if_res538 = less_than_p1041(getkey1044(c1063),getkey1044(a1061));} else {var if_res538 = less_than_p1041(c1063,a1061);}if (if_res538!==false) {M1.unsafe_vector_set_bang_(dst_vec1047,M1.unsafe_fx_plus_(dst_start1048,0),c1063);M1.unsafe_vector_set_bang_(dst_vec1047,M1.unsafe_fx_plus_(dst_start1048,1),a1061);var if_res539 = M1.unsafe_vector_set_bang_(dst_vec1047,M1.unsafe_fx_plus_(dst_start1048,2),b1062);} else {M1.unsafe_vector_set_bang_(dst_vec1047,M1.unsafe_fx_plus_(dst_start1048,1),c1063);var if_res539 = M1.unsafe_vector_set_bang_(dst_vec1047,M1.unsafe_fx_plus_(dst_start1048,2),b1062);}var if_res540 = if_res539;}var if_res541 = if_res540;}var if_res542 = if_res541;}var if_res543 = if_res542;} else {var work_vec1064 = M0.make_vector(n1046+M0.ceiling(n1046/2),false);M0.vector_copy_bang_(work_vec1064,0,vec1040,start1042,end1043);generic_sort_by_key901(work_vec1064,less_than_p1041,n1046,getkey1044);var if_res543 = M0.vector_copy_bang_(dst_vec1047,dst_start1048,work_vec1064,0,n1046);}var if_res544 = if_res543;}var if_res545 = if_res544;}var if_res546 = if_res545;}if_res546;if (true!==false) {var if_res547 = dst_vec1047;} else {var if_res547 = M0.rvoid();}var if_res548 = if_res547;} else {var if_res548 = vector_sort(vec1040,less_than_p1041,start1042,end1043);}return if_res548;};var temp549 = $rjs_core.attachProcedureArity(function() {var fixed_lam498 = {'4':cl496,'6':cl497}[arguments.length];if (fixed_lam498!==undefined) {return fixed_lam498.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[4,6]);var cl443 = function(vec1065, less_than_p1066, start1067, end1068) {var n1069 = end1068-start1067;if (false!==false) {var if_res446 = M0.make_vector(n1069);} else {var if_res446 = vec1065;}var dst_vec1070 = if_res446;if (false!==false) {var if_res447 = 0;} else {var if_res447 = start1067;}var dst_start1071 = if_res447;if (M1.unsafe_fx_eq_(n1069,0)!==false) {var if_res468 = M0.rvoid();} else {if (false!==false) {var work_vec1072 = M0.make_vector(n1069+M0.ceiling(n1069/2),true);var loop1073 = function(i1074) {if (M1.unsafe_fx_lt_(i1074,n1069)!==false) {var x1075 = M1.unsafe_vector_ref(vec1065,M1.unsafe_fx_plus_(i1074,start1067));M1.unsafe_vector_set_bang_(work_vec1072,i1074,M0.cons(false(x1075),x1075));var if_res448 = loop1073(M1.unsafe_fx_plus_(i1074,1));} else {var if_res448 = M0.rvoid();}return if_res448;};loop1073(0);generic_sort_by_key901(work_vec1072,less_than_p1066,n1069,M1.unsafe_car);var loop1076 = function(i1077) {if (M1.unsafe_fx_lt_(i1077,n1069)!==false) {M1.unsafe_vector_set_bang_(dst_vec1070,M1.unsafe_fx_plus_(i1077,dst_start1071),M1.unsafe_cdr(M1.unsafe_vector_ref(work_vec1072,i1077)));var if_res449 = loop1076(M1.unsafe_fx_plus_(i1077,1));} else {var if_res449 = M0.rvoid();}return if_res449;};var if_res467 = loop1076(0);} else {var loop1078 = function(prev_val1079, next_index1080) {var or_part1081 = M1.unsafe_fx_eq_(next_index1080,end1068);if (or_part1081!==false) {var if_res452 = or_part1081;} else {var next_val1082 = M1.unsafe_vector_ref(vec1065,next_index1080);if (false!==false) {var if_res450 = less_than_p1066(false(next_val1082),false(prev_val1079));} else {var if_res450 = less_than_p1066(next_val1082,prev_val1079);}if (M0.not(if_res450)!==false) {var if_res451 = loop1078(next_val1082,M1.unsafe_fx_plus_(next_index1080,1));} else {var if_res451 = false;}var if_res452 = if_res451;}return if_res452;};if (loop1078(M1.unsafe_vector_ref(vec1065,start1067),M1.unsafe_fx_plus_(start1067,1))!==false) {if (false!==false) {var if_res453 = M0.vector_copy_bang_(dst_vec1070,dst_start1071,vec1065,start1067,end1068);} else {var if_res453 = M0.rvoid();}var if_res466 = if_res453;} else {if (M1.unsafe_fx_lt__eq_(n1069,3)!==false) {if (false!==false) {var if_res454 = M0.vector_copy_bang_(dst_vec1070,dst_start1071,vec1065,start1067,end1068);} else {var if_res454 = M0.rvoid();}if_res454;if (M1.unsafe_fx_eq_(n1069,1)!==false) {var if_res464 = M0.rvoid();} else {if (M1.unsafe_fx_eq_(n1069,2)!==false) {var tmp1083 = M1.unsafe_vector_ref(dst_vec1070,M1.unsafe_fx_plus_(dst_start1071,0));M1.unsafe_vector_set_bang_(dst_vec1070,M1.unsafe_fx_plus_(dst_start1071,0),M1.unsafe_vector_ref(dst_vec1070,M1.unsafe_fx_plus_(dst_start1071,1)));var if_res463 = M1.unsafe_vector_set_bang_(dst_vec1070,M1.unsafe_fx_plus_(dst_start1071,1),tmp1083);} else {var a1084 = M1.unsafe_vector_ref(dst_vec1070,M1.unsafe_fx_plus_(dst_start1071,0));var b1085 = M1.unsafe_vector_ref(dst_vec1070,M1.unsafe_fx_plus_(dst_start1071,1));var c1086 = M1.unsafe_vector_ref(dst_vec1070,M1.unsafe_fx_plus_(dst_start1071,2));if (false!==false) {var if_res455 = less_than_p1066(false(b1085),false(a1084));} else {var if_res455 = less_than_p1066(b1085,a1084);}if (if_res455!==false) {if (false!==false) {var if_res456 = less_than_p1066(false(c1086),false(b1085));} else {var if_res456 = less_than_p1066(c1086,b1085);}if (if_res456!==false) {M1.unsafe_vector_set_bang_(dst_vec1070,M1.unsafe_fx_plus_(dst_start1071,0),c1086);var if_res459 = M1.unsafe_vector_set_bang_(dst_vec1070,M1.unsafe_fx_plus_(dst_start1071,2),a1084);} else {if (false!==false) {var if_res457 = less_than_p1066(false(c1086),false(a1084));} else {var if_res457 = less_than_p1066(c1086,a1084);}if (if_res457!==false) {M1.unsafe_vector_set_bang_(dst_vec1070,M1.unsafe_fx_plus_(dst_start1071,0),b1085);M1.unsafe_vector_set_bang_(dst_vec1070,M1.unsafe_fx_plus_(dst_start1071,1),c1086);var if_res458 = M1.unsafe_vector_set_bang_(dst_vec1070,M1.unsafe_fx_plus_(dst_start1071,2),a1084);} else {M1.unsafe_vector_set_bang_(dst_vec1070,M1.unsafe_fx_plus_(dst_start1071,0),b1085);var if_res458 = M1.unsafe_vector_set_bang_(dst_vec1070,M1.unsafe_fx_plus_(dst_start1071,1),a1084);}var if_res459 = if_res458;}var if_res462 = if_res459;} else {if (false!==false) {var if_res460 = less_than_p1066(false(c1086),false(a1084));} else {var if_res460 = less_than_p1066(c1086,a1084);}if (if_res460!==false) {M1.unsafe_vector_set_bang_(dst_vec1070,M1.unsafe_fx_plus_(dst_start1071,0),c1086);M1.unsafe_vector_set_bang_(dst_vec1070,M1.unsafe_fx_plus_(dst_start1071,1),a1084);var if_res461 = M1.unsafe_vector_set_bang_(dst_vec1070,M1.unsafe_fx_plus_(dst_start1071,2),b1085);} else {M1.unsafe_vector_set_bang_(dst_vec1070,M1.unsafe_fx_plus_(dst_start1071,1),c1086);var if_res461 = M1.unsafe_vector_set_bang_(dst_vec1070,M1.unsafe_fx_plus_(dst_start1071,2),b1085);}var if_res462 = if_res461;}var if_res463 = if_res462;}var if_res464 = if_res463;}var if_res465 = if_res464;} else {var work_vec1087 = M0.make_vector(n1069+M0.ceiling(n1069/2),false);M0.vector_copy_bang_(work_vec1087,0,vec1065,start1067,end1068);generic_sort845(work_vec1087,less_than_p1066,n1069);var if_res465 = M0.vector_copy_bang_(dst_vec1070,dst_start1071,work_vec1087,0,n1069);}var if_res466 = if_res465;}var if_res467 = if_res466;}var if_res468 = if_res467;}if_res468;if (false!==false) {var if_res469 = dst_vec1070;} else {var if_res469 = M0.rvoid();}return if_res469;};var cl444 = function(vec1088, less_than_p1089, start1090, end1091, getkey1092, cache_keys_p1093) {if (getkey1092!==false) {var if_res470 = M0.not(M0.eq_p(M0.values,getkey1092));} else {var if_res470 = false;}if (if_res470!==false) {var n1094 = end1091-start1090;if (false!==false) {var if_res471 = M0.make_vector(n1094);} else {var if_res471 = vec1088;}var dst_vec1095 = if_res471;if (false!==false) {var if_res472 = 0;} else {var if_res472 = start1090;}var dst_start1096 = if_res472;if (M1.unsafe_fx_eq_(n1094,0)!==false) {var if_res493 = M0.rvoid();} else {if (cache_keys_p1093!==false) {var work_vec1097 = M0.make_vector(n1094+M0.ceiling(n1094/2),true);var loop1098 = function(i1099) {if (M1.unsafe_fx_lt_(i1099,n1094)!==false) {var x1100 = M1.unsafe_vector_ref(vec1088,M1.unsafe_fx_plus_(i1099,start1090));M1.unsafe_vector_set_bang_(work_vec1097,i1099,M0.cons(getkey1092(x1100),x1100));var if_res473 = loop1098(M1.unsafe_fx_plus_(i1099,1));} else {var if_res473 = M0.rvoid();}return if_res473;};loop1098(0);generic_sort_by_key901(work_vec1097,less_than_p1089,n1094,M1.unsafe_car);var loop1101 = function(i1102) {if (M1.unsafe_fx_lt_(i1102,n1094)!==false) {M1.unsafe_vector_set_bang_(dst_vec1095,M1.unsafe_fx_plus_(i1102,dst_start1096),M1.unsafe_cdr(M1.unsafe_vector_ref(work_vec1097,i1102)));var if_res474 = loop1101(M1.unsafe_fx_plus_(i1102,1));} else {var if_res474 = M0.rvoid();}return if_res474;};var if_res492 = loop1101(0);} else {var loop1103 = function(prev_val1104, next_index1105) {var or_part1106 = M1.unsafe_fx_eq_(next_index1105,end1091);if (or_part1106!==false) {var if_res477 = or_part1106;} else {var next_val1107 = M1.unsafe_vector_ref(vec1088,next_index1105);if (getkey1092!==false) {var if_res475 = less_than_p1089(getkey1092(next_val1107),getkey1092(prev_val1104));} else {var if_res475 = less_than_p1089(next_val1107,prev_val1104);}if (M0.not(if_res475)!==false) {var if_res476 = loop1103(next_val1107,M1.unsafe_fx_plus_(next_index1105,1));} else {var if_res476 = false;}var if_res477 = if_res476;}return if_res477;};if (loop1103(M1.unsafe_vector_ref(vec1088,start1090),M1.unsafe_fx_plus_(start1090,1))!==false) {if (false!==false) {var if_res478 = M0.vector_copy_bang_(dst_vec1095,dst_start1096,vec1088,start1090,end1091);} else {var if_res478 = M0.rvoid();}var if_res491 = if_res478;} else {if (M1.unsafe_fx_lt__eq_(n1094,3)!==false) {if (false!==false) {var if_res479 = M0.vector_copy_bang_(dst_vec1095,dst_start1096,vec1088,start1090,end1091);} else {var if_res479 = M0.rvoid();}if_res479;if (M1.unsafe_fx_eq_(n1094,1)!==false) {var if_res489 = M0.rvoid();} else {if (M1.unsafe_fx_eq_(n1094,2)!==false) {var tmp1108 = M1.unsafe_vector_ref(dst_vec1095,M1.unsafe_fx_plus_(dst_start1096,0));M1.unsafe_vector_set_bang_(dst_vec1095,M1.unsafe_fx_plus_(dst_start1096,0),M1.unsafe_vector_ref(dst_vec1095,M1.unsafe_fx_plus_(dst_start1096,1)));var if_res488 = M1.unsafe_vector_set_bang_(dst_vec1095,M1.unsafe_fx_plus_(dst_start1096,1),tmp1108);} else {var a1109 = M1.unsafe_vector_ref(dst_vec1095,M1.unsafe_fx_plus_(dst_start1096,0));var b1110 = M1.unsafe_vector_ref(dst_vec1095,M1.unsafe_fx_plus_(dst_start1096,1));var c1111 = M1.unsafe_vector_ref(dst_vec1095,M1.unsafe_fx_plus_(dst_start1096,2));if (getkey1092!==false) {var if_res480 = less_than_p1089(getkey1092(b1110),getkey1092(a1109));} else {var if_res480 = less_than_p1089(b1110,a1109);}if (if_res480!==false) {if (getkey1092!==false) {var if_res481 = less_than_p1089(getkey1092(c1111),getkey1092(b1110));} else {var if_res481 = less_than_p1089(c1111,b1110);}if (if_res481!==false) {M1.unsafe_vector_set_bang_(dst_vec1095,M1.unsafe_fx_plus_(dst_start1096,0),c1111);var if_res484 = M1.unsafe_vector_set_bang_(dst_vec1095,M1.unsafe_fx_plus_(dst_start1096,2),a1109);} else {if (getkey1092!==false) {var if_res482 = less_than_p1089(getkey1092(c1111),getkey1092(a1109));} else {var if_res482 = less_than_p1089(c1111,a1109);}if (if_res482!==false) {M1.unsafe_vector_set_bang_(dst_vec1095,M1.unsafe_fx_plus_(dst_start1096,0),b1110);M1.unsafe_vector_set_bang_(dst_vec1095,M1.unsafe_fx_plus_(dst_start1096,1),c1111);var if_res483 = M1.unsafe_vector_set_bang_(dst_vec1095,M1.unsafe_fx_plus_(dst_start1096,2),a1109);} else {M1.unsafe_vector_set_bang_(dst_vec1095,M1.unsafe_fx_plus_(dst_start1096,0),b1110);var if_res483 = M1.unsafe_vector_set_bang_(dst_vec1095,M1.unsafe_fx_plus_(dst_start1096,1),a1109);}var if_res484 = if_res483;}var if_res487 = if_res484;} else {if (getkey1092!==false) {var if_res485 = less_than_p1089(getkey1092(c1111),getkey1092(a1109));} else {var if_res485 = less_than_p1089(c1111,a1109);}if (if_res485!==false) {M1.unsafe_vector_set_bang_(dst_vec1095,M1.unsafe_fx_plus_(dst_start1096,0),c1111);M1.unsafe_vector_set_bang_(dst_vec1095,M1.unsafe_fx_plus_(dst_start1096,1),a1109);var if_res486 = M1.unsafe_vector_set_bang_(dst_vec1095,M1.unsafe_fx_plus_(dst_start1096,2),b1110);} else {M1.unsafe_vector_set_bang_(dst_vec1095,M1.unsafe_fx_plus_(dst_start1096,1),c1111);var if_res486 = M1.unsafe_vector_set_bang_(dst_vec1095,M1.unsafe_fx_plus_(dst_start1096,2),b1110);}var if_res487 = if_res486;}var if_res488 = if_res487;}var if_res489 = if_res488;}var if_res490 = if_res489;} else {var work_vec1112 = M0.make_vector(n1094+M0.ceiling(n1094/2),false);M0.vector_copy_bang_(work_vec1112,0,vec1088,start1090,end1091);generic_sort_by_key901(work_vec1112,less_than_p1089,n1094,getkey1092);var if_res490 = M0.vector_copy_bang_(dst_vec1095,dst_start1096,work_vec1112,0,n1094);}var if_res491 = if_res490;}var if_res492 = if_res491;}var if_res493 = if_res492;}if_res493;if (false!==false) {var if_res494 = dst_vec1095;} else {var if_res494 = M0.rvoid();}var if_res495 = if_res494;} else {var if_res495 = vector_sort_bang_(vec1088,less_than_p1089,start1090,end1091);}return if_res495;};var let_result601 = M0.values(temp600,temp549,$rjs_core.attachProcedureArity(function() {var fixed_lam445 = {'4':cl443,'6':cl444}[arguments.length];if (fixed_lam445!==undefined) {return fixed_lam445.apply(null,arguments);} else {return M0.error($rjs_core.UString.make("case-lambda: invalid case"));}},[4,6]));var sort = let_result601.getAt(0);var vector_sort = let_result601.getAt(1);var vector_sort_bang_ = let_result601.getAt(2);var __rjs_quoted__ = {};export { __rjs_quoted__,vector_sort_bang_,vector_sort,sort };